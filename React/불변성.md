# 불변성

상태를 변경할때 **기존 상태를 변경하지 않고** 새로운 상태를 생성하는 방식으로 동작합니다.

새로운 상태 객체를 생성하고, 기존 상태 객체와 새로운 상태 객체를 비교하여 변경된 부분을 감지하는 방식입니다.  
이전 상태와 새로운 상태가 다른 객체를 참조할 경우 상태가 변경된것으로 판단하고 컴포넌트를 다시 렌더링합니다.

</br>

객체를 참조하는 변수 obj가 있을 때, 다음과 같이 obj의 프로퍼티를 변경하는 경우 obj의 참조가 유지됩니다.

```js
const obj = { prop: 1 }
obj.prop = 2 // obj의 프로퍼티를 변경
```

하지만 다음과 같이 obj를 새로운 객체로 덮어쓰는 경우 obj의 참조가 바뀝니다.

```js
const obj = { prop: 1 }
obj = { prop: 2 } // obj를 새로운 객체로 덮어씀
```

이와 마찬가지로, 배열을 참조하는 변수에 대해서도 같은 원리가 적용됩니다. 따라서, 객체나 배열의 값을 변경할 때는 원본 객체나 배열을 직접 수정하는 것이 아니라, 새로운 객체나 배열을 생성해서 값을 변경해야 합니다.  
이렇게 하면 React에서 상태의 변경을 감지할 수 있습니다.
